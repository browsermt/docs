<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Class UnsupervisedQualityEstimator &mdash; Bergamot Translator main 2022-03-09 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />
    <link rel="canonical" href="https://browser.mt/docs/api/classmarian_1_1bergamot_1_1UnsupervisedQualityEstimator.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Class Vocabs" href="classmarian_1_1bergamot_1_1Vocabs.html" />
    <link rel="prev" title="Class TranslationModel" href="classmarian_1_1bergamot_1_1TranslationModel.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Bergamot Translator
          </a>
              <div class="version">
                main
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../marian-integration.html">Bergamot C++ Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wasm-example.html">Using Bergamot Translator in JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="library_index.html">Library API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python.html#indices-and-tables">Indices and tables</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Bergamot Translator</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="library_index.html">Library API</a> &raquo;</li>
      <li>Class UnsupervisedQualityEstimator</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/classmarian_1_1bergamot_1_1UnsupervisedQualityEstimator.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="class-unsupervisedqualityestimator">
<span id="exhale-class-classmarian-1-1bergamot-1-1unsupervisedqualityestimator"></span><h1>Class UnsupervisedQualityEstimator<a class="headerlink" href="#class-unsupervisedqualityestimator" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Defined in <a class="reference internal" href="file_src_translator_quality_estimator.h.html#file-src-translator-quality-estimator-h"><span class="std std-ref">File quality_estimator.h</span></a></p></li>
</ul>
<section id="inheritance-relationships">
<h2>Inheritance Relationships<a class="headerlink" href="#inheritance-relationships" title="Permalink to this headline">¶</a></h2>
<section id="base-type">
<h3>Base Type<a class="headerlink" href="#base-type" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">marian::bergamot::QualityEstimator</span></code> (<a class="reference internal" href="classmarian_1_1bergamot_1_1QualityEstimator.html#exhale-class-classmarian-1-1bergamot-1-1qualityestimator"><span class="std std-ref">Class QualityEstimator</span></a>)</p></li>
</ul>
</section>
</section>
<section id="class-documentation">
<h2>Class Documentation<a class="headerlink" href="#class-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="_CPPv4N6marian8bergamot28UnsupervisedQualityEstimatorE">
<span id="_CPPv3N6marian8bergamot28UnsupervisedQualityEstimatorE"></span><span id="_CPPv2N6marian8bergamot28UnsupervisedQualityEstimatorE"></span><span id="marian::bergamot::UnsupervisedQualityEstimator"></span><span class="target" id="classmarian_1_1bergamot_1_1UnsupervisedQualityEstimator"></span><em class="property">class </em><code class="sig-name descname">UnsupervisedQualityEstimator</code> : <em class="property">public</em> marian::bergamot::<a class="reference internal" href="classmarian_1_1bergamot_1_1QualityEstimator.html#_CPPv4N6marian8bergamot16QualityEstimatorE" title="marian::bergamot::QualityEstimator">QualityEstimator</a><a class="headerlink" href="#_CPPv4N6marian8bergamot28UnsupervisedQualityEstimatorE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Unsupervised Quality Estimator model. </p>
<p>It uses the translator model’s log probabilities (log probs) as a proxy for quality scores. Then, for a given word, its quality score is computed by taking the mean of the log probs of the tokens that make it up. The sentence score is the mean of all word’s log probs. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt id="_CPPv4NK6marian8bergamot28UnsupervisedQualityEstimator20computeQualityScoresERK9HistoriesR8Response">
<span id="_CPPv3NK6marian8bergamot28UnsupervisedQualityEstimator20computeQualityScoresERK9HistoriesR8Response"></span><span id="_CPPv2NK6marian8bergamot28UnsupervisedQualityEstimator20computeQualityScoresERK9HistoriesR8Response"></span><span id="marian::bergamot::UnsupervisedQualityEstimator::computeQualityScores__HistoriesCR.ResponseRC"></span><span class="target" id="classmarian_1_1bergamot_1_1UnsupervisedQualityEstimator_1aa0e26c73f6974a24f90dd33c26462dbd"></span>void <code class="sig-name descname">computeQualityScores</code><span class="sig-paren">(</span><em class="property">const</em> Histories &amp;<em>histories</em>, <a class="reference internal" href="structmarian_1_1bergamot_1_1Response.html#_CPPv4N6marian8bergamot8ResponseE" title="marian::bergamot::Response">Response</a> &amp;<em>response</em><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK6marian8bergamot28UnsupervisedQualityEstimator20computeQualityScoresERK9HistoriesR8Response" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Computes quality-scores using values from Histories and subword tokens which comes from <a class="reference internal" href="structmarian_1_1bergamot_1_1Response.html#structmarian_1_1bergamot_1_1Response"><span class="std std-ref">Response</span></a>. </p>
<p><dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">histories</span></code>: Histories obtained from translating a blob of source-text </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[in]</span> <span class="pre">response</span></code>: Partially constructed response, holding tokenization info for source and target. The quality-scores for each sentence obtained from source-text blob are written out as SentenceQualityEstimate into response. </p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="classmarian_1_1bergamot_1_1TranslationModel.html" class="btn btn-neutral float-left" title="Class TranslationModel" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="classmarian_1_1bergamot_1_1Vocabs.html" class="btn btn-neutral float-right" title="Class Vocabs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2022 Bergamot Translator Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>