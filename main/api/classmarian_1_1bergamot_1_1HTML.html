<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Class HTML &mdash; Bergamot Translator main 2023-03-01 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />
    <link rel="canonical" href="https://browser.mt/docs/api/classmarian_1_1bergamot_1_1HTML.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Class Logger" href="classmarian_1_1bergamot_1_1Logger.html" />
    <link rel="prev" title="Template Class ConfigParser" href="classmarian_1_1bergamot_1_1ConfigParser.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Bergamot Translator
          </a>
              <div class="version">
                main
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../marian-integration.html">Bergamot C++ Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wasm-example.html">Using Bergamot Translator in JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="library_index.html">Library API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python.html">Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python.html#indices-and-tables">Indices and tables</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Bergamot Translator</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="library_index.html">Library API</a></li>
      <li class="breadcrumb-item active">Class HTML</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/classmarian_1_1bergamot_1_1HTML.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="class-html">
<span id="exhale-class-classmarian-1-1bergamot-1-1html"></span><h1>Class HTML<a class="headerlink" href="#class-html" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Defined in <a class="reference internal" href="file_src_translator_html.h.html#file-src-translator-html-h"><span class="std std-ref">File html.h</span></a></p></li>
</ul>
<section id="nested-relationships">
<h2>Nested Relationships<a class="headerlink" href="#nested-relationships" title="Permalink to this headline">¶</a></h2>
<section id="nested-types">
<h3>Nested Types<a class="headerlink" href="#nested-types" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><a class="reference internal" href="structmarian_1_1bergamot_1_1HTML_1_1Options.html#exhale-struct-structmarian-1-1bergamot-1-1html-1-1options"><span class="std std-ref">Struct HTML::Options</span></a></p></li>
<li><p><a class="reference internal" href="structmarian_1_1bergamot_1_1HTML_1_1Span.html#exhale-struct-structmarian-1-1bergamot-1-1html-1-1span"><span class="std std-ref">Struct HTML::Span</span></a></p></li>
<li><p><a class="reference internal" href="structmarian_1_1bergamot_1_1HTML_1_1Tag.html#exhale-struct-structmarian-1-1bergamot-1-1html-1-1tag"><span class="std std-ref">Struct HTML::Tag</span></a></p></li>
</ul>
</section>
</section>
<section id="class-documentation">
<h2>Class Documentation<a class="headerlink" href="#class-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="_CPPv4N6marian8bergamot4HTMLE">
<span id="_CPPv3N6marian8bergamot4HTMLE"></span><span id="_CPPv2N6marian8bergamot4HTMLE"></span><span id="marian::bergamot::HTML"></span><span class="target" id="classmarian_1_1bergamot_1_1HTML"></span><em class="property">class </em><code class="sig-name descname">HTML</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTMLE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a> class parses and removes <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a> from input text, and places it back into the translated output text. </p>
<p>When parsing the <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a>, it treats tags as markup, where a list of nested tags can be seen as a list of markups that are applicable to all the text that follows. This list is stored as a <code class="docutils literal notranslate"><span class="pre">TagStack</span></code>. Whenever an <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a> tag opens or closes, a new TagStack is created to reflect that. TagStack used to be called <code class="docutils literal notranslate"><span class="pre">Taint</span></code> because it <em>tainted</em> the text it was associated with with those tags as markup. The text between tags themselves is stored in the input variable. In <code class="docutils literal notranslate"><span class="pre">spans_</span></code>, the TagStack that is associated with a substring of that text is stored. When transferring the <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a> from the source text to the translated target text, the TagStacks are first associated with each of the subwords from the source text. Using hard alignment, each subword in the source text is linked to a subword in the target text. The TagStacks are then copied over these links. Finally, the <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a> is inserted back into the target text by for each subword, comparing the TagStack from the previous word to that word, and opening and closing elements to make up for the difference.</p>
<p>There are a couple of complexities though:<ol class="arabic simple">
<li><p>Not all tags can be treated as markup applied to text. For example, an <code class="docutils literal notranslate"><span class="pre">&lt;img&gt;</span></code> does not contain text itself. Or <code class="docutils literal notranslate"><span class="pre">&lt;i&gt;&lt;/i&gt;</span></code> does not. We do want those tags to remain in the output though. We do this by associating them to an empty <code class="docutils literal notranslate"><a class="reference internal" href="structmarian_1_1bergamot_1_1HTML_1_1Span.html#structmarian_1_1bergamot_1_1HTML_1_1Span"><span class="std std-ref"><span class="pre">Span</span></span></a></code>. When inserting <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a> back into the translation input or output, we keep track of where in the <code class="docutils literal notranslate"><span class="pre">spans_</span></code> vector we are, and insert any elements from empty spans that we might have skipped over because empty spans are never linked to tokens/subwords. These are <em>stragglers</em> in some parts of the code, or <em>void</em> or <em>empty</em> elements in other parts.</p></li>
<li><p>Some tags should be treated as paragraph indicators, and break up sentences. These are the usual suspects like <code class="docutils literal notranslate"><span class="pre">&lt;p&gt;</span></code>, but also <code class="docutils literal notranslate"><span class="pre">&lt;li&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;td&gt;</span></code>, to make sure we don’t translate two table cells into a single word. This is the <code class="docutils literal notranslate"><span class="pre">addSentenceBreak</span></code> flag in the <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a> parsing bit. We mark these breaks with <code class="docutils literal notranslate"><span class="pre">\n\n</span></code> in the input text and with a special WHITESPACE tag that we treat as any other void tag. Hopefully this tag moves with the added <code class="docutils literal notranslate"><span class="pre">\n\n</span></code> and it is easy for us to remove it again. (in practise it is since these only occur at the end of sentences and the end of sentences are always aligned between source and target.)</p></li>
<li><p>We treat most tags as word-breaking. We do this by adding spaces just after where we saw the open or close tag occur. If there is already some whitespace in that place, we do not add extra spaces.</p></li>
<li><p>TODO </p></li>
</ol>
</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="type">
<dt id="_CPPv4N6marian8bergamot4HTML10TagNameSetE">
<span id="_CPPv3N6marian8bergamot4HTML10TagNameSetE"></span><span id="_CPPv2N6marian8bergamot4HTML10TagNameSetE"></span><span class="target" id="classmarian_1_1bergamot_1_1HTML_1a9efeb48d4bf1e83d6e8e361925d8e678"></span><em class="property">using </em><code class="sig-name descname">TagNameSet</code> = std::set&lt;std::string, std::less&lt;&gt;&gt;<a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML10TagNameSetE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="type">
<dt id="_CPPv4N6marian8bergamot4HTML8TagStackE">
<span id="_CPPv3N6marian8bergamot4HTML8TagStackE"></span><span id="_CPPv2N6marian8bergamot4HTML8TagStackE"></span><span class="target" id="classmarian_1_1bergamot_1_1HTML_1ac38c3eab8a794f94f01e56129d352892"></span><em class="property">using </em><code class="sig-name descname">TagStack</code> = std::vector&lt;<a class="reference internal" href="#_CPPv4N6marian8bergamot4HTML3TagE" title="marian::bergamot::HTML::Tag">Tag</a> *&gt;<a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML8TagStackE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Representation of markup that is being applied to a string of text. </p>
<p>Order matters as this represents how the tags are nested. The <code class="docutils literal notranslate"><a class="reference internal" href="structmarian_1_1bergamot_1_1HTML_1_1Tag.html#structmarian_1_1bergamot_1_1HTML_1_1Tag"><span class="std std-ref"><span class="pre">Tag</span></span></a></code> objects themselves are owned by <code class="docutils literal notranslate"><span class="pre">pool_</span></code>. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt id="_CPPv4N6marian8bergamot4HTML4HTMLERRNSt6stringEb">
<span id="_CPPv3N6marian8bergamot4HTML4HTMLERRNSt6stringEb"></span><span id="_CPPv2N6marian8bergamot4HTML4HTMLERRNSt6stringEb"></span><span id="marian::bergamot::HTML::HTML__ssRR.b"></span><span class="target" id="classmarian_1_1bergamot_1_1HTML_1a89c719c6f7d0f74ffb91d728ed8fd55c"></span><code class="sig-name descname">HTML</code><span class="sig-paren">(</span>std::string &amp;&amp;<em>source</em>, bool <em>processMarkup</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML4HTMLERRNSt6stringEb" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Parses <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a> in <code class="docutils literal notranslate"><span class="pre">source</span></code> (if <code class="docutils literal notranslate"><span class="pre">processMarkup</span></code> is true). </p>
<p><code class="docutils literal notranslate"><span class="pre">source</span></code> is updated to only contain the plain text extracted from the <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a>. <code class="docutils literal notranslate"><a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref"><span class="pre">HTML</span></span></a></code> instance retains information about what tags are extracted from where to later reconstruct the <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a> in a <code class="docutils literal notranslate"><a class="reference internal" href="structmarian_1_1bergamot_1_1Response.html#structmarian_1_1bergamot_1_1Response"><span class="std std-ref"><span class="pre">Response</span></span></a></code> object (both <code class="docutils literal notranslate"><span class="pre">source</span></code> and <code class="docutils literal notranslate"><span class="pre">target</span></code>). </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian8bergamot4HTML4HTMLERRNSt6stringEbRR7Options">
<span id="_CPPv3N6marian8bergamot4HTML4HTMLERRNSt6stringEbRR7Options"></span><span id="_CPPv2N6marian8bergamot4HTML4HTMLERRNSt6stringEbRR7Options"></span><span id="marian::bergamot::HTML::HTML__ssRR.b.OptionsRR"></span><span class="target" id="classmarian_1_1bergamot_1_1HTML_1ad3060430f04581feb08b427e599743c4"></span><code class="sig-name descname">HTML</code><span class="sig-paren">(</span>std::string &amp;&amp;<em>source</em>, bool <em>processMarkup</em>, <a class="reference internal" href="#_CPPv4N6marian8bergamot4HTML7OptionsE" title="marian::bergamot::HTML::Options">Options</a> &amp;&amp;<em>options</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML4HTMLERRNSt6stringEbRR7Options" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian8bergamot4HTML4HTMLERK4HTML">
<span id="_CPPv3N6marian8bergamot4HTML4HTMLERK4HTML"></span><span id="_CPPv2N6marian8bergamot4HTML4HTMLERK4HTML"></span><span id="marian::bergamot::HTML::HTML__HTMLCR"></span><span class="target" id="classmarian_1_1bergamot_1_1HTML_1a9e17dac101b0251576263b97e4d60218"></span><code class="sig-name descname">HTML</code><span class="sig-paren">(</span><em class="property">const</em> <a class="reference internal" href="#_CPPv4N6marian8bergamot4HTML4HTMLERRNSt6stringEb" title="marian::bergamot::HTML::HTML">HTML</a>&amp;<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML4HTMLERK4HTML" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>It is not save to copy a <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a> instance. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian8bergamot4HTML4HTMLERR4HTML">
<span id="_CPPv3N6marian8bergamot4HTML4HTMLERR4HTML"></span><span id="_CPPv2N6marian8bergamot4HTML4HTMLERR4HTML"></span><span id="marian::bergamot::HTML::HTML__HTMLRR"></span><span class="target" id="classmarian_1_1bergamot_1_1HTML_1aaa6dbb032f3651c96b0cc21f878b6417"></span><code class="sig-name descname">HTML</code><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N6marian8bergamot4HTML4HTMLERRNSt6stringEb" title="marian::bergamot::HTML::HTML">HTML</a>&amp;&amp;<span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML4HTMLERR4HTML" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Moving is fine. </p>
</dd></dl>

<dl class="function">
<dt id="_CPPv4N6marian8bergamot4HTML7restoreER8Response">
<span id="_CPPv3N6marian8bergamot4HTML7restoreER8Response"></span><span id="_CPPv2N6marian8bergamot4HTML7restoreER8Response"></span><span id="marian::bergamot::HTML::restore__ResponseR"></span><span class="target" id="classmarian_1_1bergamot_1_1HTML_1a1a4f6b3186fea186ded8f95fd0c41224"></span>void <code class="sig-name descname">restore</code><span class="sig-paren">(</span><a class="reference internal" href="structmarian_1_1bergamot_1_1Response.html#_CPPv4N6marian8bergamot8ResponseE" title="marian::bergamot::Response">Response</a> &amp;<em>response</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML7restoreER8Response" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reconstructs (not perfectly) the <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a> as it was parsed from <code class="docutils literal notranslate"><span class="pre">source</span></code>, and uses alignment information to also reconstruct the same markup in <code class="docutils literal notranslate"><span class="pre">response.target</span></code>. </p>
</dd></dl>

</div>
<dl class="class">
<dt id="_CPPv4N6marian8bergamot4HTML7OptionsE">
<span id="_CPPv3N6marian8bergamot4HTML7OptionsE"></span><span id="_CPPv2N6marian8bergamot4HTML7OptionsE"></span><span id="marian::bergamot::HTML::Options"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Options"></span><em class="property">struct </em><code class="sig-name descname">Options</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML7OptionsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><a class="reference internal" href="structmarian_1_1bergamot_1_1HTML_1_1Options.html#structmarian_1_1bergamot_1_1HTML_1_1Options"><span class="std std-ref">Options</span></a> struct that controls how <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a> is interpreted. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="member">
<dt id="_CPPv4N6marian8bergamot4HTML7Options8voidTagsE">
<span id="_CPPv3N6marian8bergamot4HTML7Options8voidTagsE"></span><span id="_CPPv2N6marian8bergamot4HTML7Options8voidTagsE"></span><span id="marian::bergamot::HTML::Options::voidTags__TagNameSet"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Options_1ab00794574d99150c652d1a482103a71f"></span><a class="reference internal" href="#_CPPv4N6marian8bergamot4HTML10TagNameSetE" title="marian::bergamot::HTML::TagNameSet">TagNameSet</a> <code class="sig-name descname">voidTags</code>{&quot;area&quot;, &quot;base&quot;, &quot;basefont&quot;, &quot;bgsound&quot;, &quot;br&quot;, &quot;col&quot;, &quot;embed&quot;, &quot;frame&quot;, &quot;hr&quot;, &quot;img&quot;, &quot;input&quot;, &quot;keygen&quot;, &quot;link&quot;, &quot;meta&quot;, &quot;param&quot;, &quot;source&quot;, &quot;track&quot;, &quot;wbr&quot;}<a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML7Options8voidTagsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>List of elements for which we do not expect a closing tag, or self-closing elements in XHTML. </p>
<p>We do not need to see a closing tag for these elements, and they cannot contain text or tags themselves. See also: <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Glossary/Empty_element">https://developer.mozilla.org/en-US/docs/Glossary/Empty_element</a>. More relevant source of this list: <a class="reference external" href="https://searchfox.org/mozilla-central/rev/7d17fd1fe9f0005a2fb19e5d53da4741b06a98ba/dom/base/FragmentOrElement.cpp#1791">https://searchfox.org/mozilla-central/rev/7d17fd1fe9f0005a2fb19e5d53da4741b06a98ba/dom/base/FragmentOrElement.cpp#1791</a> </p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian8bergamot4HTML7Options10inlineTagsE">
<span id="_CPPv3N6marian8bergamot4HTML7Options10inlineTagsE"></span><span id="_CPPv2N6marian8bergamot4HTML7Options10inlineTagsE"></span><span id="marian::bergamot::HTML::Options::inlineTags__TagNameSet"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Options_1a4ba51a2a1715f942fe8fa367ee30d344"></span><a class="reference internal" href="#_CPPv4N6marian8bergamot4HTML10TagNameSetE" title="marian::bergamot::HTML::TagNameSet">TagNameSet</a> <code class="sig-name descname">inlineTags</code>{&quot;abbr&quot;, &quot;a&quot;, &quot;b&quot;, &quot;em&quot;, &quot;i&quot;, &quot;kbd&quot;, &quot;mark&quot;, &quot;math&quot;, &quot;output&quot;, &quot;q&quot;, &quot;ruby&quot;, &quot;small&quot;, &quot;span&quot;, &quot;strong&quot;, &quot;sub&quot;, &quot;sup&quot;, &quot;time&quot;, &quot;u&quot;, &quot;var&quot;, &quot;wbr&quot;, &quot;ins&quot;, &quot;del&quot;, &quot;img&quot;}<a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML7Options10inlineTagsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>List of elements that are treated as inline, meaning they do not break up sentences. </p>
<p>Any element <em>not</em> in this list will cause the text that follows its open or close tag to be treated as a separate sentence. </p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian8bergamot4HTML7Options10inWordTagsE">
<span id="_CPPv3N6marian8bergamot4HTML7Options10inWordTagsE"></span><span id="_CPPv2N6marian8bergamot4HTML7Options10inWordTagsE"></span><span id="marian::bergamot::HTML::Options::inWordTags__TagNameSet"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Options_1a4cb30f62a8dede0dc53d004ef3b1e74d"></span><a class="reference internal" href="#_CPPv4N6marian8bergamot4HTML10TagNameSetE" title="marian::bergamot::HTML::TagNameSet">TagNameSet</a> <code class="sig-name descname">inWordTags</code> = {&quot;wbr&quot;}<a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML7Options10inWordTagsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>List of elements that are, regardless of <code class="docutils literal notranslate"><span class="pre">substituteInlineTagsWithSpaces</span></code>, not substituted with spaces. </p>
<p>Technically almost all inline elements should be treated like this, except <code class="docutils literal notranslate"><span class="pre">&lt;br&gt;</span></code> maybe, But in practice it seems to be more effective to limit this set to just that one tag that that can only really be used <em>inside</em> words: <code class="docutils literal notranslate"><span class="pre">&lt;wbr&gt;</span></code>. See also: <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/wbr">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/wbr</a> </p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian8bergamot4HTML7Options11ignoredTagsE">
<span id="_CPPv3N6marian8bergamot4HTML7Options11ignoredTagsE"></span><span id="_CPPv2N6marian8bergamot4HTML7Options11ignoredTagsE"></span><span id="marian::bergamot::HTML::Options::ignoredTags__TagNameSet"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Options_1a36e6894f8576fcff4504f34fa717bed5"></span><a class="reference internal" href="#_CPPv4N6marian8bergamot4HTML10TagNameSetE" title="marian::bergamot::HTML::TagNameSet">TagNameSet</a> <code class="sig-name descname">ignoredTags</code> = {&quot;code&quot;, &quot;kbd&quot;, &quot;samp&quot;, &quot;var&quot;, &quot;dir&quot;, &quot;acronym&quot;, &quot;math&quot;}<a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML7Options11ignoredTagsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>List of elements we copy as is, but do parse as if they’re <a class="reference internal" href="#classmarian_1_1bergamot_1_1HTML"><span class="std std-ref">HTML</span></a> because they could be nested. </p>
<p>For &lt;script&gt; we just scan for &lt;/script&gt; because the script tag may not be nested, but that is not the case for these elements per se. Some tags, like &lt;script&gt;, are ignored at the <code class="docutils literal notranslate"><span class="pre">Scanner</span></code> level. See <code class="docutils literal notranslate"><span class="pre">xh_scanner.cpp/Scanner::scanAttribute()</span></code>. </p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian8bergamot4HTML7Options22continuationDelimitersE">
<span id="_CPPv3N6marian8bergamot4HTML7Options22continuationDelimitersE"></span><span id="_CPPv2N6marian8bergamot4HTML7Options22continuationDelimitersE"></span><span id="marian::bergamot::HTML::Options::continuationDelimiters__ss"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Options_1a1ec700ba53db56e0ac429abc4e81c9cd"></span>std::string <code class="sig-name descname">continuationDelimiters</code> = &quot;n ,.(){}[]&quot;<a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML7Options22continuationDelimitersE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>List of characters that occur at the start of a token that indicate that the this token is probably <em>not</em> a continuation of a word. </p>
<p>This is also used to determine whether there should be a space after a closing tag or not. I.e. a <code class="docutils literal notranslate"><span class="pre">.</span></code> after a <code class="docutils literal notranslate"><span class="pre">&lt;/strong&gt;</span></code> does not need to be separated by an extra space. </p>
</dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian8bergamot4HTML7Options30substituteInlineTagsWithSpacesE">
<span id="_CPPv3N6marian8bergamot4HTML7Options30substituteInlineTagsWithSpacesE"></span><span id="_CPPv2N6marian8bergamot4HTML7Options30substituteInlineTagsWithSpacesE"></span><span id="marian::bergamot::HTML::Options::substituteInlineTagsWithSpaces__b"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Options_1ac65eebb64b4148bf106ee8b3f72aa104"></span>bool <code class="sig-name descname">substituteInlineTagsWithSpaces</code> = true<a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML7Options30substituteInlineTagsWithSpacesE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Should we always add spaces to the places where tags used to be? I.e. </p>
<p><code class="docutils literal notranslate"><span class="pre">un&lt;u&gt;der&lt;/u&gt;line</span></code> should become <code class="docutils literal notranslate"><span class="pre">un</span> <span class="pre">der</span> <span class="pre">line</span></code>? This does help with retaining tags inside words, or with odd pages that use CSS to add spacing between a lot of tags. Cases like <code class="docutils literal notranslate"><span class="pre">&lt;td&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;li&gt;</span></code> are already covered by treating them as sentence splitting. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="class">
<dt id="_CPPv4N6marian8bergamot4HTML4SpanE">
<span id="_CPPv3N6marian8bergamot4HTML4SpanE"></span><span id="_CPPv2N6marian8bergamot4HTML4SpanE"></span><span id="marian::bergamot::HTML::Span"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Span"></span><em class="property">struct </em><code class="sig-name descname">Span</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML4SpanE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><a class="reference internal" href="structmarian_1_1bergamot_1_1HTML_1_1Span.html#structmarian_1_1bergamot_1_1HTML_1_1Span"><span class="std std-ref">Span</span></a> of text, with which a <code class="docutils literal notranslate"><span class="pre">TagStack</span></code> is associated. </p>
<p>A span may be empty, for example to represent the presence of an empty or VOID element. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="function">
<dt id="_CPPv4NK6marian8bergamot4HTML4Span4sizeEv">
<span id="_CPPv3NK6marian8bergamot4HTML4Span4sizeEv"></span><span id="_CPPv2NK6marian8bergamot4HTML4Span4sizeEv"></span><span id="marian::bergamot::HTML::Span::sizeC"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Span_1ad76ee7bb2995d85c7d41fc3c5134b9f2"></span>size_t <code class="sig-name descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK6marian8bergamot4HTML4Span4sizeEv" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="member">
<dt id="_CPPv4N6marian8bergamot4HTML4Span5beginE">
<span id="_CPPv3N6marian8bergamot4HTML4Span5beginE"></span><span id="_CPPv2N6marian8bergamot4HTML4Span5beginE"></span><span id="marian::bergamot::HTML::Span::begin__s"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Span_1ab07a76d2612f717e601c142a6b453fb7"></span>size_t <code class="sig-name descname">begin</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML4Span5beginE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian8bergamot4HTML4Span3endE">
<span id="_CPPv3N6marian8bergamot4HTML4Span3endE"></span><span id="_CPPv2N6marian8bergamot4HTML4Span3endE"></span><span id="marian::bergamot::HTML::Span::end__s"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Span_1a2ff47421d487bb17dd469471b219830f"></span>size_t <code class="sig-name descname">end</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML4Span3endE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian8bergamot4HTML4Span4tagsE">
<span id="_CPPv3N6marian8bergamot4HTML4Span4tagsE"></span><span id="_CPPv2N6marian8bergamot4HTML4Span4tagsE"></span><span id="marian::bergamot::HTML::Span::tags__TagStack"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Span_1ad9961c592d41092e780c8083678870ab"></span><a class="reference internal" href="#_CPPv4N6marian8bergamot4HTML8TagStackE" title="marian::bergamot::HTML::TagStack">TagStack</a> <code class="sig-name descname">tags</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML4Span4tagsE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="class">
<dt id="_CPPv4N6marian8bergamot4HTML3TagE">
<span id="_CPPv3N6marian8bergamot4HTML3TagE"></span><span id="_CPPv2N6marian8bergamot4HTML3TagE"></span><span id="marian::bergamot::HTML::Tag"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Tag"></span><em class="property">struct </em><code class="sig-name descname">Tag</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML3TagE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Represents a tag, or markup that is being applied to a string of text. </p>
<p>We treat all elements except <code class="docutils literal notranslate"><span class="pre">ELEMENT</span></code> as void elements or empty elements. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Types</p>
<dl class="enum">
<dt id="_CPPv4N6marian8bergamot4HTML8NodeTypeE">
<span id="_CPPv3N6marian8bergamot4HTML8NodeTypeE"></span><span id="_CPPv2N6marian8bergamot4HTML8NodeTypeE"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Tag_1a56ba9d02edfae673cdb02d7141348cd3"></span><em class="property">enum </em><code class="sig-name descname">NodeType</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML8NodeTypeE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="enumerator">
<dt id="_CPPv4N6marian8bergamot4HTML7ELEMENTE">
<span id="_CPPv3N6marian8bergamot4HTML7ELEMENTE"></span><span id="_CPPv2N6marian8bergamot4HTML7ELEMENTE"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Tag_1a56ba9d02edfae673cdb02d7141348cd3a9ab61b103554f93bdb9bd4427b7c4dd0"></span><code class="sig-name descname">ELEMENT</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML7ELEMENTE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="enumerator">
<dt id="_CPPv4N6marian8bergamot4HTML12VOID_ELEMENTE">
<span id="_CPPv3N6marian8bergamot4HTML12VOID_ELEMENTE"></span><span id="_CPPv2N6marian8bergamot4HTML12VOID_ELEMENTE"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Tag_1a56ba9d02edfae673cdb02d7141348cd3ac4ec474c7a77b8bb7324b2318a07cf45"></span><code class="sig-name descname">VOID_ELEMENT</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML12VOID_ELEMENTE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="enumerator">
<dt id="_CPPv4N6marian8bergamot4HTML7COMMENTE">
<span id="_CPPv3N6marian8bergamot4HTML7COMMENTE"></span><span id="_CPPv2N6marian8bergamot4HTML7COMMENTE"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Tag_1a56ba9d02edfae673cdb02d7141348cd3a6454af3a0e4d69671328ff7ac3d164d1"></span><code class="sig-name descname">COMMENT</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML7COMMENTE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="enumerator">
<dt id="_CPPv4N6marian8bergamot4HTML22PROCESSING_INSTRUCTIONE">
<span id="_CPPv3N6marian8bergamot4HTML22PROCESSING_INSTRUCTIONE"></span><span id="_CPPv2N6marian8bergamot4HTML22PROCESSING_INSTRUCTIONE"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Tag_1a56ba9d02edfae673cdb02d7141348cd3a6a00e91442382d70b3b82a56bfd1b254"></span><code class="sig-name descname">PROCESSING_INSTRUCTION</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML22PROCESSING_INSTRUCTIONE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="enumerator">
<dt id="_CPPv4N6marian8bergamot4HTML10WHITESPACEE">
<span id="_CPPv3N6marian8bergamot4HTML10WHITESPACEE"></span><span id="_CPPv2N6marian8bergamot4HTML10WHITESPACEE"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Tag_1a56ba9d02edfae673cdb02d7141348cd3a270ae3aa7e522dc92c086dbc88da9886"></span><code class="sig-name descname">WHITESPACE</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML10WHITESPACEE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Members</p>
<dl class="member">
<dt id="_CPPv4N6marian8bergamot4HTML3Tag4typeE">
<span id="_CPPv3N6marian8bergamot4HTML3Tag4typeE"></span><span id="_CPPv2N6marian8bergamot4HTML3Tag4typeE"></span><span id="marian::bergamot::HTML::Tag::type__NodeType"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Tag_1aed3ca4af7e72fcc6222fd0ddadb55ea7"></span><a class="reference internal" href="structmarian_1_1bergamot_1_1HTML_1_1Tag.html#_CPPv4N6marian8bergamot4HTML3Tag8NodeTypeE" title="marian::bergamot::HTML::Tag::NodeType">NodeType</a> <code class="sig-name descname">type</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML3Tag4typeE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian8bergamot4HTML3Tag4nameE">
<span id="_CPPv3N6marian8bergamot4HTML3Tag4nameE"></span><span id="_CPPv2N6marian8bergamot4HTML3Tag4nameE"></span><span id="marian::bergamot::HTML::Tag::name__ss"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Tag_1ae3fdcdfa21854fae884edd55bacd721e"></span>std::string <code class="sig-name descname">name</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML3Tag4nameE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian8bergamot4HTML3Tag10attributesE">
<span id="_CPPv3N6marian8bergamot4HTML3Tag10attributesE"></span><span id="_CPPv2N6marian8bergamot4HTML3Tag10attributesE"></span><span id="marian::bergamot::HTML::Tag::attributes__ss"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Tag_1aae1ab530a880019d2b32f04d89dfee6e"></span>std::string <code class="sig-name descname">attributes</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML3Tag10attributesE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="member">
<dt id="_CPPv4N6marian8bergamot4HTML3Tag4dataE">
<span id="_CPPv3N6marian8bergamot4HTML3Tag4dataE"></span><span id="_CPPv2N6marian8bergamot4HTML3Tag4dataE"></span><span id="marian::bergamot::HTML::Tag::data__ss"></span><span class="target" id="structmarian_1_1bergamot_1_1HTML_1_1Tag_1ac46ed304cec43e5fa4999f4afe805d15"></span>std::string <code class="sig-name descname">data</code><a class="headerlink" href="#_CPPv4N6marian8bergamot4HTML3Tag4dataE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="classmarian_1_1bergamot_1_1ConfigParser.html" class="btn btn-neutral float-left" title="Template Class ConfigParser" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="classmarian_1_1bergamot_1_1Logger.html" class="btn btn-neutral float-right" title="Class Logger" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2022 Bergamot Translator Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>